identity = \val ->
  val

isArray = Array.isArray

transformResult = (result, fn) ->
  result = fn result

useParamListOrArray = (fn) -> (args...) ->
  if args.length && isArray args[0] then fn args[0] else fn args

compose = useParamListOrArray \fns \val ->
  fns.reduce (transformResult, val)

module.exports = { compose, identity, isArray, useParamListOrArray }
